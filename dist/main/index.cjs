"use strict";var s=require("os"),l=require("path"),n=require("electron");function t(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var p=t(s),i=t(l);const c=p.default.release().startsWith("6.1");c&&n.app.disableHardwareAcceleration();n.app.requestSingleInstanceLock()||(n.app.quit(),process.exit(0));let a=null;async function r(){if(a=new n.BrowserWindow({webPreferences:{preload:i.default.join(__dirname,"../preload/index.cjs")}}),n.app.isPackaged)a.loadFile(i.default.join(__dirname,"../renderer/index.html"));else{const e=await Promise.resolve().then(function(){return require("./package.js")}),o=`http://${e.env.HOST||"127.0.0.1"}:${e.env.PORT}`;a.loadURL(o),a.webContents.openDevTools()}}n.app.whenReady().then(r);n.app.on("window-all-closed",()=>{a=null,process.platform!=="darwin"&&n.app.quit()});n.app.on("second-instance",()=>{a&&(a.isMinimized()&&a.restore(),a.focus())});n.app.on("activate",()=>{const e=n.BrowserWindow.getAllWindows();e.length?e[0].focus():r()});
